api:
  openrouter:
    key: "${OPENROUTER_API_KEY}"  # ä»ç¯å¢ƒå˜é‡è¯»å–
    base_url: "https://openrouter.ai/api/v1"
    models:
      summary: "google/gemma-3n-e2b-it:free"  # Googleå…è´¹å¿«é€Ÿæ¨¡å‹
      mindmap: "google/gemma-3n-e2b-it:free"  # Googleå…è´¹å¿«é€Ÿæ¨¡å‹
      # å¤‡é€‰å…è´¹å¿«é€Ÿæ¨¡å‹ï¼š
      # "opengvlab/internvl3-2b:free"      # æœ€å¿« (379.88 t/s)
      # "google/gemini-2.5-flash-preview"  # å¿«é€Ÿ (140.85 t/s)
      # "qwen/qwen3-30b-a3b:free"          # ä¸­ç­‰ (83.19 t/s)
    rate_limits:
      free_tier:
        requests_per_10s: 10      # æ¯10ç§’æœ€å¤š10ä¸ªè¯·æ±‚
        requests_per_minute: 60   # æ¯åˆ†é’Ÿæœ€å¤š60ä¸ªè¯·æ±‚
        daily_credit_limit: 5     # å…è´¹å±‚æ¯æ—¥5ä¸ªcredits
      paid_tier:
        requests_per_10s: 10      # ä»˜è´¹è´¦æˆ·10ç§’é™åˆ¶ç›¸åŒ
        requests_per_minute: 60   # æ¯åˆ†é’Ÿé™åˆ¶ç›¸åŒ
        credit_to_requests_ratio: 100  # æ¯ä¸ªcreditå…è®¸100ä¸ªè¯·æ±‚/å¤©

paths:
  watch_folder: "./watch_folder"  # éŸ³é¢‘æ–‡ä»¶ç›‘æ§ç›®å½•
  data_folder: "./data"  # æ•°æ®å­˜å‚¨ç›®å½• (è½¬å½•æ–‡æœ¬ã€æ—¥å¿—ç­‰)
  output_folder: "./data/output"  # å¤„ç†ç»“æœè¾“å‡ºç›®å½•

spacy:
  model: "zh_core_web_sm"

whisperkit:
  model: "large-v3"    # å¯é€‰: tiny, small, base, medium, large-v3
  model_prefix: "distil"  # æ¨èé…ç½®ï¼šdistil (è‹±æ–‡4.4å€é€Ÿ) æˆ– openai (æ”¯æŒä¸­æ–‡)
  language: "en"  
  # æ€§èƒ½å¯¹æ¯”ï¼ˆ10åˆ†é’Ÿè‹±æ–‡éŸ³é¢‘ï¼‰ï¼š
  # - distil-large-v3: 32.9ç§’ (18xå®æ—¶ï¼Œä»…è‹±æ–‡)  âš¡ æ¨èè‹±æ–‡å†…å®¹
  # - openai-large-v3: 143.9ç§’ (4.2xå®æ—¶ï¼Œæ”¯æŒä¸­æ–‡) ğŸ¯ æ¨èä¸­æ–‡/æ··åˆå†…å®¹
  model_path: "/Users/me/Documents/huggingface/models/argmaxinc/whisperkit-coreml"

# ç³»ç»Ÿé…ç½®
system:
  debug: false  # è°ƒè¯•æ¨¡å¼å¼€å…³
  
logging:
  level: "INFO"  # æ—¥å¿—çº§åˆ«: DEBUG, INFO, WARNING, ERROR, CRITICAL
  file: "./data/logs/app.log"
  console: true  # æ˜¯å¦åœ¨æ§åˆ¶å°è¾“å‡ºæ—¥å¿—

# Phase 4: ç½‘ç»œé›†æˆé…ç½®
network:
  tailscale:
    auth_key: "${TAILSCALE_AUTH_KEY}"  # ä»ç¯å¢ƒå˜é‡è¯»å–
    machine_name: "project-bach"  # æœºå™¨åç§°
    network_name: "project-bach-network"  # ç½‘ç»œåç§°
    auto_connect: true  # è‡ªåŠ¨è¿æ¥
    timeout: 30  # è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰

  file_transfer:
    remote_base_path: "/Users/remote/project_bach/watch_folder"  # è¿œç¨‹ç›‘æ§æ–‡ä»¶å¤¹è·¯å¾„
    local_base_path: "./watch_folder"  # æœ¬åœ°ç›‘æ§æ–‡ä»¶å¤¹è·¯å¾„
    chunk_size: 8192  # æ–‡ä»¶ä¼ è¾“å—å¤§å°ï¼ˆå­—èŠ‚ï¼‰
    timeout: 60  # ä¼ è¾“è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
    retry_attempts: 3  # é‡è¯•æ¬¡æ•°
    verify_integrity: true  # æ˜¯å¦éªŒè¯æ–‡ä»¶å®Œæ•´æ€§
    max_file_size: 104857600  # æœ€å¤§æ–‡ä»¶å¤§å°é™åˆ¶ï¼ˆ100MBï¼‰

  security:
    allowed_networks: ["100.64.0.0/10"]  # Tailscale CGNATèŒƒå›´
    blocked_ips: []  # é˜»æ­¢çš„IPåœ°å€åˆ—è¡¨
    require_encryption: true  # æ˜¯å¦è¦æ±‚åŠ å¯†è¿æ¥
    max_connection_attempts: 3  # æœ€å¤§è¿æ¥å°è¯•æ¬¡æ•°
    connection_timeout: 10  # è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
    max_connections_per_minute: 60  # æ¯åˆ†é’Ÿæœ€å¤§è¿æ¥æ•°
    connection_window_seconds: 60  # è¿æ¥é¢‘ç‡ç»Ÿè®¡çª—å£ï¼ˆç§’ï¼‰

  monitoring:
    check_interval: 30  # ç½‘ç»œçŠ¶æ€æ£€æŸ¥é—´éš”ï¼ˆç§’ï¼‰
    timeout: 5  # pingè¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
    max_retries: 3  # æœ€å¤§é‡è¯•æ¬¡æ•°
    target_hosts: []  # ç›‘æ§ç›®æ ‡ä¸»æœºåˆ—è¡¨ï¼Œå¯åŠ¨æ—¶è‡ªåŠ¨å‘ç°TailscaleèŠ‚ç‚¹
    alert_on_disconnect: true  # è¿æ¥æ–­å¼€æ—¶æ˜¯å¦å‘Šè­¦

  # å®‰å…¨æ–‡ä»¶æœåŠ¡å™¨é…ç½®
  secure_file_server:
    enabled: true  # æ˜¯å¦å¯ç”¨å®‰å…¨æ–‡ä»¶æœåŠ¡å™¨
    host: "0.0.0.0"  # ç›‘å¬åœ°å€ï¼Œ0.0.0.0è¡¨ç¤ºæ‰€æœ‰æ¥å£
    port: 8080  # æœåŠ¡ç«¯å£
    allowed_dirs:  # åªå…è®¸è®¿é—®è¿™äº›ç›®å½•
      - "./watch_folder"
      - "./output"
    auth_token: "${SECURE_FILE_SERVER_TOKEN}"  # ä»ç¯å¢ƒå˜é‡è¯»å–
    enable_upload: true  # æ˜¯å¦å…è®¸æ–‡ä»¶ä¸Šä¼ 
    enable_download: true  # æ˜¯å¦å…è®¸æ–‡ä»¶ä¸‹è½½

# Phase 5: GitHub Pages è‡ªåŠ¨å‘å¸ƒé…ç½®
github:
  # GitHubä»“åº“ä¿¡æ¯
  username: "${GITHUB_USERNAME}"  # ä½ çš„GitHubç”¨æˆ·åï¼ˆä»ç¯å¢ƒå˜é‡è¯»å–ï¼‰
  repo_name: "Project_Bach"  # ä»“åº“å
  pages_branch: "gh-pages"  # GitHub Pageséƒ¨ç½²åˆ†æ”¯
  
  # Gité…ç½® (ä½¿ç”¨SSHè®¤è¯ï¼Œæ— éœ€token)
  remote_url: "git@github.com:${GITHUB_USERNAME}/Project_Bach.git"  # SSHè¿œç¨‹åœ°å€
  
  # Gitç”¨æˆ·é…ç½® (å¦‚æœç³»ç»Ÿæ²¡æœ‰å…¨å±€é…ç½®æ—¶ä½¿ç”¨çš„é»˜è®¤å€¼)
  default_user_name: "Project Bach Bot"  # é»˜è®¤ç”¨æˆ·å
  default_user_email: "bot@project-bach.com"  # é»˜è®¤é‚®ç®±
  
  # ç½‘ç«™é…ç½®
  website:
    title: "Project Bach - æ™ºèƒ½éŸ³é¢‘å¤„ç†ç³»ç»Ÿ"
    description: "åŸºäº WhisperKit + OpenRouter + spaCy çš„æ™ºèƒ½éŸ³é¢‘å¤„ç†ä¸å†…å®¹ç”Ÿæˆç³»ç»Ÿ"
    theme: "dark"  # é»˜è®¤ä¸»é¢˜: light, dark, auto
    
  # éƒ¨ç½²è®¾ç½®
  publishing:
    auto_deploy: true  # æ˜¯å¦è‡ªåŠ¨éƒ¨ç½²åˆ°GitHub Pages
    include_source: false  # ç½‘ç«™åˆ†æ”¯æ˜¯å¦åŒ…å«æºä»£ç  (æ¨è: false)
    clean_deploy: true  # æ¯æ¬¡éƒ¨ç½²å‰æ¸…ç†ç½‘ç«™åˆ†æ”¯ (æ¨è: true)
    max_files_per_deploy: 50  # æ¯æ¬¡éƒ¨ç½²æœ€å¤šåŒ…å«çš„éŸ³é¢‘ç»“æœæ–‡ä»¶æ•°
    
  # å†…å®¹è¿‡æ»¤
  content_filter:
    exclude_patterns:  # ä¸å‘å¸ƒåŒ…å«è¿™äº›æ¨¡å¼çš„æ–‡ä»¶
      - "*private*"
      - "*confidential*" 
      - "*test*"
    min_content_length: 100  # æœ€å°å†…å®¹é•¿åº¦ (å­—ç¬¦)
    anonymize_names: true  # æ˜¯å¦åœ¨å‘å¸ƒå‰è¿›è¡ŒäººååŒ¿ååŒ–

# æ¨¡æ¿é…ç½®
templates:
  base_dir: "./templates"  # æ¨¡æ¿æ–‡ä»¶ç›®å½•
  
  # é¡µé¢æ¨¡æ¿
  homepage: "index.html.j2"  # ä¸»é¡µæ¨¡æ¿
  content: "content.html.j2"  # å†…å®¹é¡µé¢æ¨¡æ¿
  error: "error.html.j2"  # é”™è¯¯é¡µé¢æ¨¡æ¿
  
  # æ ·å¼é…ç½®
  css:
    primary_color: "#0066cc"  # ä¸»è‰²è°ƒ
    dark_primary_color: "#4fc3f7"  # æ·±è‰²æ¨¡å¼ä¸»è‰²è°ƒ
    font_family: "-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif"
    
  # åŠŸèƒ½å¼€å…³
  features:
    theme_toggle: true  # ä¸»é¢˜åˆ‡æ¢æŒ‰é’®
    search: false  # æœç´¢åŠŸèƒ½ (æœªæ¥åŠŸèƒ½)
    rss_feed: false  # RSSè®¢é˜… (æœªæ¥åŠŸèƒ½)
    comments: false  # è¯„è®ºç³»ç»Ÿ (æœªæ¥åŠŸèƒ½)